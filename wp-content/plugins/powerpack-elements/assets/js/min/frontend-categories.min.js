!function(d){d(window).on("elementor/frontend/init",()=>{class e extends elementorModules.frontend.handlers.Base{getDefaultSettings(){return{selectors:{swiperContainer:".pp-swiper-slider",swiperSlide:".swiper-slide",categoriesContainer:".pp-categories",categoriesGrid:".pp-categories-grid-wrapper",category:".pp-category"},slidesPerView:{widescreen:3,desktop:3,laptop:3,tablet_extra:3,tablet:2,mobile_extra:2,mobile:1},effect:"slide"}}getDefaultElements(){var e=this.getSettings("selectors");return{$swiperContainer:this.$element.find(e.swiperContainer),$swiperSlide:this.$element.find(e.swiperSlide),$categoriesContainer:this.$element.find(e.categoriesContainer),$categoriesGrid:this.$element.find(e.categoriesGrid),$category:this.$element.find(e.category)}}getSliderSettings(e){var t=undefined!==this.elements.$swiperContainer.data("slider-settings")?this.elements.$swiperContainer.data("slider-settings"):"";return void 0!==e&&"undefined"!==t[e]?t[e]:t}getSlidesCount(){return this.elements.$swiperSlide.length}getEffect(){return this.getSliderSettings("effect")||this.getSettings("effect")}getDeviceSlidesPerView(e){var t="slides_per_view"+("desktop"===e?"":"_"+e);return Math.min(this.getSlidesCount(),+this.getSliderSettings(t)||this.getSettings("slidesPerView")[e])}getSlidesPerView(e){return"slide"===this.getEffect()?this.getDeviceSlidesPerView(e):1}getDeviceSlidesToScroll(e){e="slides_to_scroll"+("desktop"===e?"":"_"+e);return Math.min(this.getSlidesCount(),+this.getElementSettings(e)||1)}getSlidesToScroll(e){return"slide"===this.getEffect()?this.getDeviceSlidesToScroll(e):1}getSpaceBetween(e){return e&&"desktop"!==e&&0,elementorFrontend.utils.controls.getResponsiveControlValue(this.getSliderSettings(),"space_between","size",e)||0}getSwiperOptions(){var e,t,i=this.getSliderSettings(),s={grabCursor:"yes"===i.grab_cursor,slidesPerView:this.getSlidesPerView("desktop"),slidesPerGroup:this.getSlidesToScroll("desktop"),spaceBetween:this.getSpaceBetween(),loop:"yes"===i.loop,centeredSlides:"yes"===i.centered_slides,speed:i.speed,autoHeight:i.auto_height,effect:this.getEffect(),watchSlidesVisibility:!0,watchSlidesProgress:!0,preventClicksPropagation:!1,slideToClickedSlide:!0,handleElementorBreakpoints:!0};if("fade"===this.getEffect()&&(s.fadeEffect={crossFade:!0}),i.show_arrows&&(t=this.isEdit?".elementor-swiper-button-prev":".swiper-button-prev-"+this.getID(),e=this.isEdit?".elementor-swiper-button-next":".swiper-button-next-"+this.getID(),s.navigation={prevEl:t,nextEl:e}),i.pagination&&(t=".swiper-pagination-"+this.getID(),s.pagination={el:t,type:i.pagination,clickable:!0}),"cube"!==this.getEffect()){const n={},r=elementorFrontend.config.responsive.activeBreakpoints;Object.keys(r).forEach(e=>{n[r[e].value]={slidesPerView:this.getSlidesPerView(e),slidesPerGroup:this.getSlidesToScroll(e)},this.getSpaceBetween(e)&&(n[r[e].value].spaceBetween=this.getSpaceBetween(e))}),s.breakpoints=n}return!this.isEdit&&i.autoplay&&(s.autoplay={delay:i.autoplay_speed,disableOnInteraction:!!i.pause_on_interaction}),s}bindEvents(){var e=this.getElementSettings();"yes"===e.equal_height&&this.setEqualHeight(),"carousel"===e.layout&&this.initSlider(),"grid"===e.layout&&"list"!==e.skin&&(this.setCategoriesCount(1),this.initNumberedPagination(),this.initLoadMore(),this.initInfiniteScroll())}async initSlider(){var e=this.getElementSettings(),t=elementorFrontend.utils.swiper;this.swiper=await new t(this.elements.$swiperContainer,this.getSwiperOptions()),"yes"===e.pause_on_hover&&this.togglePauseOnHover(!0)}togglePauseOnHover(e){e?this.elements.$swiperContainer.on({mouseenter:()=>{this.swiper.autoplay.stop()},mouseleave:()=>{this.swiper.autoplay.start()}}):this.elements.$swiperContainer.off("mouseenter mouseleave")}setEqualHeight(){var e=this.$element.find(".pp-category");let t=0;e.each(function(){d(this).outerHeight()>t&&(t=d(this).outerHeight())}),e.css("height",t+"px")}initNumberedPagination(){const a=this;d("body").on("click",".pp-categories-pagination-ajax .page-numbers",function(i){var s=d(this).closest(".elementor-widget-pp-categories");if(!(s.length<0)){var n=s.find(".pp-category").last(),r=s.find(".pp-categories-grid-wrapper").data("page");i.preventDefault(),n.after('<div class="pp-category-loader"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>');let e=1,t=parseInt(s.find(".pp-categories-pagination .page-numbers.current").html());e=d(this).hasClass("next")?t+1:d(this).hasClass("prev")?t-1:d(this).html();i={page_id:r,widget_id:a.getID(),page_number:e};d("html, body").animate({scrollTop:s.find(".pp-categories-grid").offset().top-30},"slow"),a.callAjax(a,i)}})}initLoadMore(){const n=this;this.loadStatus=!0,d(document).on("click",".pp-category-load-more",function(e){e.preventDefault();var e=d(this).closest(".elementor-widget-pp-categories"),t=e.find(".pp-categories-loader"),i=n.getCategoriesCount(),s=e.find(".pp-categories-grid-wrapper").data("page");if(elementorFrontend.isEditMode())return t.show(),!1;s={page_id:s,widget_id:n.getID(),page_number:i+1};n.total=e.find(".pp-categories-pagination").data("total"),1==n.loadStatus&&i<n.total&&(t.show(),d(this).hide(),n.callAjax(n,s,!0,i),n.loadStatus=!1)})}initInfiniteScroll(){let n=this,r=1,a=this.$element.find(".pp-categories-loader");if(this.loadStatus=!0,this.elements.$categoriesContainer.hasClass("pp-categories-infinite-scroll")){let s=jQuery(window).outerHeight()/1.25;d(window).scroll(function(){if(elementorFrontend.isEditMode())return a.show(),!1;var e=n.$element,t=n.elements.$categoriesGrid,i=e.find(".pp-category:last"),t={page_id:t.data("page"),widget_id:n.getID(),page_number:e.find(".page-numbers.current").next("a").html()};n.total=e.find(".pp-categories-pagination").data("total"),d(window).scrollTop()+s>=i.offset().top&&1==n.loadStatus&&r<n.total&&(a.show(),n.callAjax(n,t,!0),r++,n.loadStatus=!1)})}}setCategoriesCount(e){this.$element.find(".pp-category-load-more").attr("data-count",e)}getCategoriesCount(){return this.$element.find(".pp-category-load-more").data("count")}callAjax(n,r,a,o){let l=this.$element.find(".pp-categories-loader");d.ajax({url:ppCategoriesScript.ajax_url,data:{action:"pp_get_categories",page_id:r.page_id,widget_id:r.widget_id,page_number:r.page_number,nonce:ppCategoriesScript.categories_nonce},dataType:"json",type:"POST",success:function(e){var t=n.elements.$categoriesContainer,i=t.find(".pp-categories-grid-wrapper"),s=t.find(".pp-categories-empty");s.remove(),0==d(s).length&&d(e.data.not_found).insertBefore(i),1==a?(s=e.data.html,i.append(s)):i.html(e.data.html),t.find(".pp-categories-pagination-wrap").html(e.data.pagination),n.loadStatus=!0,1==a&&(l.hide(),t.find(".pp-category-load-more").show()),n.setCategoriesCount(r.page_number),(o+=1)==n.total&&t.find(".pp-category-load-more").hide(),n.$element.trigger("posts.rendered",[n.$element])}}).done(function(){0<n.$element.find(".elementor-invisible").length&&n.$element.find(".elementor-invisible").removeClass("elementor-invisible")})}}elementorFrontend.elementsHandler.attachHandler("pp-categories",e)})}(jQuery);