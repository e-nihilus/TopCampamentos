!function(p){p(window).on("elementor/frontend/init",()=>{class i extends elementorModules.frontend.handlers.Base{getDefaultSettings(){return{selectors:{productsCarouselWrap:".swiper-container-wrap",productsCarousel:".pp-woo-products-inner",productsSliderWrapper:".pp-woo-products-slider"}}}getDefaultElements(){var t=this.getSettings("selectors");return{$productsCarouselWrap:this.$element.find(t.productsCarouselWrap).eq(0),$productsCarousel:this.$element.find(t.productsCarousel).eq(0),$productsSliderWrapper:this.$element.find(t.productsSliderWrapper)}}bindEvents(){var t,e,o;0<this.elements.$productsSliderWrapper.length&&(jQuery(this.elements.$productsCarouselWrap).closest(".elementor-widget-wrap").addClass("e-swiper-container"),jQuery(this.elements.$productsCarouselWrap).closest(".elementor-widget").addClass("e-widget-swiper"),0<this.elements.$productsCarousel.length)&&(t=elementorFrontend.utils.swiper,e=JSON.parse(this.$element.find(this.elements.$productsSliderWrapper).attr("data-woo_slider")),new t((o=this).elements.$productsCarousel,e).then(function(t){o.ppSwiperSliderAfterinit(o.$element,o.elements.$productsCarousel,o.elements.$productsCarouselWrap,e,t,"product")})),elementorFrontend.isEditMode()||(this.RegisterPPQuickView(this.$element,p),this.RegisterPPAddCart(this.$element,p)),elementorFrontend.isEditMode()&&this.RegisterPPQuickView(this.$element,p),this.$element.find(".product_type_variable").each(function(){p(this).removeClass("ajax_add_to_cart")}),0===p("body").find(".yith-wcan-filters").length&&p(document).off("click",".pp-woocommerce-pagination a.page-numbers").on("click",".pp-woocommerce-pagination a.page-numbers",function(t){var e,o,i,r,a,n=p(this).closest(".elementor-widget-pp-woo-products");n.find(".pp-woocommerce").hasClass("pp-woo-query-main")||(t.preventDefault(),n.find("ul.products").after('<div class="pp-woo-loader"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>'),t=n.data("id"),e=n.find(".pp-woocommerce").data("page"),a=1,o=parseInt(n.find(".pp-woocommerce-pagination .page-numbers.current").html()),i=n.find(".pp-woocommerce").data("skin"),r=n.find(".pp-woocommerce").data("product-id"),a=p(this).hasClass("next")?o+1:p(this).hasClass("prev")?o-1:p(this).html(),p.ajax({url:pp_woo_products_script.ajax_url,data:{action:"pp_get_products",page_id:e,widget_id:t,skin:i,page_number:a,product_id:r,nonce:pp_woo_products_script.get_product_nonce},dataType:"json",type:"POST",success:function(t){n.find(".pp-woo-loader").remove(),p("html, body").animate({scrollTop:n.find(".pp-woocommerce").offset().top-30},"slow"),n.find(".pp-woo-products-inner ul.products").replaceWith(t.data.html),n.find(".pp-woocommerce-pagination").replaceWith(t.data.pagination),n.find(".product_type_variable").each(function(){p(this).removeClass("ajax_add_to_cart")})}}))})}ppSwiperSliderAfterinit(t,e,o,i,r,a){this.equalHeight(t,a);var n=this;r.on("slideChange",function(){n.equalHeight(t,a)}),!0===i.autoplay.pauseOnHover&&(e.on("mouseover",function(){r.autoplay.stop()}),e.on("mouseout",function(){r.autoplay.start()})),elementorFrontend.isEditMode()&&o.resize(function(){r.update()}),["ppe-tabs-switched","ppe-toggle-switched","ppe-accordion-switched","ppe-popup-opened"].forEach(function(t){void 0!==t&&p(document).on(t,function(t,e){0<e.find(".pp-swiper-slider").length&&setTimeout(function(){r.update()},100)})});p.each({".pp-advanced-tabs":".pp-advanced-tabs-title",".pp-toggle-container":".pp-toggle-switch",".elementor-tabs":".elementor-tab-title"},function(t,e){0<p(r).closest(t).length&&p(r).closest(t).find(e).on("click",function(){setTimeout(function(){r.update()},100)})})}equalHeight(t,o){var t=t.find(".swiper-slide-visible"),i=-1;t.each(function(){var t,e=p(this);"product"===o&&(t=e.find(".pp-woo-product-wrapper").outerHeight(),i<t)&&(i=t),"category"===o&&(t=e.find(".pp-grid-item").outerHeight(),i<t)&&(i=t)}),t.each(function(){var t;"product"===o&&(t=p(this).find(".pp-woo-product-wrapper")),(t="category"===o?p(this).find(".pp-grid-item"):t).animate({height:i},{duration:200,easing:"linear"})})}RegisterPPQuickView(a,n){var e,t=a.data("id"),p=(a.find(".pp-quick-view-btn"),a.find(".pp-quick-view-"+t)),o=(p.appendTo(document.body),p.find(".pp-quick-view-bg")),r=p.find("#pp-quick-view-modal"),d=r.find("#pp-quick-view-content"),t=r.find("#pp-quick-view-close"),i=r.find(".pp-content-main-wrapper"),s=(i.width(),i.height(),a.off("click",".pp-quick-view-btn").on("click",".pp-quick-view-btn",function(t){t.preventDefault();var t=n(this),e=(t.closest("li.product"),t.data("product_id"));r.hasClass("loading")||r.addClass("loading"),o.hasClass("pp-quick-view-bg-ready")||o.addClass("pp-quick-view-bg-ready"),n(document).trigger("pp_quick_view_loading"),s(t,e)}),function(t,e){r.css("opacity",0),n.ajax({url:pp_woo_products_script.ajax_url,data:{action:"pp_woo_quick_view",product_id:e},dataType:"html",type:"POST",success:function(t){d.html(t),c()}})}),c=function(){var t,e=d.find(".variations_form"),e=(e.trigger("check_variations"),e.trigger("reset_image"),r.hasClass("open")||(r.removeClass("loading").addClass("open"),e=l(),(t=n("html")).css("margin-right",e),t.addClass("pp-quick-view-is-open")),r.find(".variations_form"));0<e.length&&"function"==typeof e.wc_variation_form&&(e.wc_variation_form(),e.find("select").change()),d.imagesLoaded(function(t){var e=r.find(".pp-qv-image-slider");1<e.find("li").length?e.flexslider({animation:"slide",start:function(t){setTimeout(function(){u(!0)},300)}}):setTimeout(function(){u(!0)},300)}),n(document).trigger("pp_quick_view_loader_stop")},u=function(t){var e=d,o=e.find(".product .pp-qv-image-slider").first().height(),e=e.find(".product .summary.entry-summary"),i=e.css("content");void 0!==i&&544==i.replace(/[^0-9]/g,"")&&0!=o&&null!==o?e.css("height",o):e.css("height",""),!0===t&&r.css("opacity",1)},l=function(){var t=n('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div>'),e=(n("body").append(t),n("div",t).innerWidth()),o=(t.css("overflow-y","scroll"),n("div",t).innerWidth());return n(t).remove(),e-o},i=(i.on("click",function(t){this===t.target&&e()}),n(document).keyup(function(t){27===t.keyCode&&e()}),t.on("click",function(t){t.preventDefault(),e()}),e=function(){o.removeClass("pp-quick-view-bg-ready"),r.removeClass("open").removeClass("loading"),n("html").removeClass("pp-quick-view-is-open"),n("html").css("margin-right",""),setTimeout(function(){d.html("")},600)},window.addEventListener("resize",function(t){u()}),function(){p.off("click","#pp-quick-view-content .single_add_to_cart_button").off("pp_added_to_cart").on("click","#pp-quick-view-content .single_add_to_cart_button",this.onAddToCart).on("pp_added_to_cart",this.updateButton)});i.prototype.onAddToCart=function(t){t.preventDefault();t=n(this).closest("form");if(!t[0].checkValidity())return t[0].reportValidity(),!1;var e=n(this),o=n(this).val(),i=n('input[name="variation_id"]').val()||"",r=(n('input[name="quantity"]').val(),a.find(".woocommerce-grouped-product-list-item").length&&(r=n("input.qty"),n.each(r,function(t,e){var o=n(this).attr("name");o=(o=o.replace("quantity[","")).replace("]",""),o=parseInt(o),n(this).val()&&(o,n(this).val())})),t.serialize());e.is(".single_add_to_cart_button")&&(e.removeClass("added"),e.addClass("loading"),""!=i?jQuery.ajax({url:pp_woo_products_script.ajax_url,type:"POST",data:"action=pp_add_cart_single_product&product_id="+o+"&nonce="+pp_woo_products_script.add_cart_nonce+"&"+r,success:function(t){n(document.body).trigger("wc_fragment_refresh"),n(document.body).trigger("pp_added_to_cart",[e]),e.removeClass("loading"),e.addClass("added")}}):jQuery.ajax({url:pp_woo_products_script.ajax_url,type:"POST",data:"action=pp_add_cart_single_product&product_id="+o+"&nonce="+pp_woo_products_script.add_cart_nonce+"&"+r,success:function(t){n(document.body).trigger("wc_fragment_refresh"),p.trigger("pp_added_to_cart",[e])}}))},i.prototype.updateButton=function(t,e){n(e=void 0!==e&&e)&&(n(e).removeClass("loading"),n(e).addClass("added"),n(e).addClass("testng"),pp_woo_products_script.is_cart||0!==n(e).parent().find(".added_to_cart").length||n(e).after(' <a href="'+pp_woo_products_script.cart_url+'" class="added_to_cart wc-forward" title="'+pp_woo_products_script.view_cart+'">'+pp_woo_products_script.view_cart+"</a>"))},new i}RegisterPPAddCart(t,o){var e=function(){o(document.body).off("click",".pp-product-actions .pp-add-to-cart-btn.product_type_simple").off("pp_product_actions_added_to_cart").on("click",".pp-product-actions .pp-add-to-cart-btn.product_type_simple",this.onAddToCart).on("pp_product_actions_added_to_cart",this.updateButton)};e.prototype.onAddToCart=function(t){t.preventDefault();var e=o(this),t=e.data("product_id");e.find("pp-action-item");e.removeClass("added"),e.addClass("loading"),jQuery.ajax({url:pp_woo_products_script.ajax_url,type:"POST",data:"action=pp_add_cart_single_product&product_id="+t+"&quantity=1&nonce="+pp_woo_products_script.add_cart_nonce,success:function(t){o(document.body).trigger("wc_fragment_refresh"),o(document.body).trigger("pp_product_actions_added_to_cart",[e])}})},e.prototype.updateButton=function(t,e){o(e=void 0!==e&&e)&&(o(e).removeClass("loading"),o(e).addClass("added"),!pp_woo_products_script.is_cart)&&0===o(e).parent().find(".added_to_cart").length&&pp_woo_products_script.is_single_product&&o(e).after(' <a href="'+pp_woo_products_script.cart_url+'" class="added_to_cart wc-forward" title="'+pp_woo_products_script.view_cart+'">'+pp_woo_products_script.view_cart+"</a>")},new e}}p.each({products:["default","skin-1","skin-2","skin-3","skin-4","skin-5"]},function(o,t){"object"==typeof t?p.each(t,function(t,e){elementorFrontend.elementsHandler.attachHandler("pp-woo-"+o,i,e)}):elementorFrontend.elementsHandler.attachHandler("pp-woo-"+o,i)})})}(jQuery);